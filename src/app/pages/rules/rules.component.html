<div class="container" *ngIf="pageIsReady">
    <div class="box mt-5">

        <h2 class="title is-2">
            <span class="file-icon is-inline">
                <i class="fas fa-clipboard-check"></i>
            </span>
            Rules
        </h2>

        <div class="content">
            <p>Batalja Spaciale is a multiplayer game, each player starts with a planet of some size from which the
                player can send his fleets to other planets.</p>
            <p>A player can take ownership of another planet by sending a larger fleet(army) then the army defending the
                planet.
            </p>
            <p>Every turn new troops are produced and added to the planet's army depending on the planet's size.
            </p>
            <p>Attacking your own or a teammate's planet is considered a reinforcment.</p>
            <p><strong>The game is over when:</strong></p>
            <ul>
                <li>A team's entire fleet is assimilated by the collective (run out of fleets and planets)</li>
                <li>A player takes more then 100ms to produce a move</li>
                <li>A player's move is invalid</li>
                <li>The game takes too long - timeout</li>
            </ul>
        </div>

    </div>
    <div class="box mt-5">

        <h2 id="section" class="title is-2">

            <span class="file-icon is-inline">
                <i class="fas fa-handshake"></i>
            </span>
            How to participate
        </h2>

        <div class="content">
            <p>
                The competition is structured into two phases, namely development phase, and tournament phase.
            </p>
            <p>
                In the development phase players play the game in an automatic hidden tournament. At this time 
                players are ment to develop their bots and match them against each other. Perioidcally, all
                submitted players will play a set of games and results will be displayed for you on your team
                page. There you may find some statistics and replays of your games.
            </p>
            <p>
                To join the competition you have to <code>create a team</code> or <code>join a team</code>. First navigate 
                to the <code>competitions</code> tab and click on <strong>Create team</strong> button for the 
                currently running competition or join forces with a friend and join their team. To join the team
                you will need an invitation code, that the team owner can find on the team-page.
            </p>
             
            <p>
                To start playing games, you will have to submit a bot.
            </p>             
            <p>
                To submit your bot you must upload a <code>*.zip</code> archive containing only your source
                <code>*.java</code> files.<br />
                The submitted project must contain a java file <code>Igralec.java</code>, whith a main function.
                Files within your archive will be extracted and compiled using Java JDK 11.
            </p>
            <p>
                You are provided with the game files and a sample random player to have a starting point and be 
                able to run the games localy against your own bots, while you develop. The downloadable Game 
                Pack contains <code>Evaluator.jar</code> and a sample player <code>Igralec.java</code> that just 
                does random attacks. <br>
            </p>

            After the development phase ends, a tournament will be announced in which players will be ranked by playing
            amongst each other.<br />

        </div>
    </div>
    <div class="box mt-5">
        <h2 class="title is-2">
            <span class="file-icon is-inline">
                <i class="fas fa-users"></i>
            </span>
            Update to 2v2 Bot Format
        </h2>
    
    
        <div class="content">
            <p>This year, Batalja Spaciale introduces a 2v2 bot format. Here's what's new and what you need to know:</p>
            
            <p class="title is-4  is-color-text-gray">Team Composition</p>
            <p>Teams can now consist of UP TO two players. You have the choice to compete alone using two bots or pair 
                up with another player. ></p>
        
            <p class="title is-4">Bot Selection Strategy</p>
            <p>Each match will be a 2v2 battle, where you must select two bots to represent your team. These can be 
                either two instances of the same bot or two different bots. The choice of bots can significantly impact
                 your team's performance, so choose wisely.</p>
        
            <p class="title is-4">Revised Victory Conditions</p>
            <p>A team wins by either outmaneuvering both opposing bots or if the opposing team is disqualified for rule 
                violations. Coordination between your two bots, whether they are identical or different, is key to 
                dominating the battlefield. You win the game when you defeat both enemy bots. If the time runs out the team
                with the bigger score wins. Score is a sum of all the army on the planets and the fleets.</p>        
        </div>
    
    </div>
    <div class="box mt-5 mb-3">

        <h2 class="title is-2"><a name="zagon"></a>
            <span class="file-icon is-inline">
                <i class="fas fa-terminal"></i>
            </span>
            Instructions for running the game for the first time
        </h2>
        <div class="content">
            <p class="is-size-4"><strong>Step 1: Download and extract the game-pack</strong></p>
            <p>The game-pack can be downloaded from the <code>competitions</code> tab. Extract the zip file to
            the desired location on your computer. The folder should contain 2 files:</p>
            <ul>
                <li>Evaluator.jar (the game)</li>
                <li>Igralec.java (a sample player)</li>
            </ul>
            <p>Open the terminal on your location.</p>
            <pre>
$ ls
Evaluator.jar
Igralec.java</pre>


            <p class="is-size-4 is-color-text-gray"><strong>Step 2: Check prerequisites</strong></p>
            <p>
                The server will be running your bot and evaluating it's score. We recommend that you match the java version
                to the server's version:
            </p>
            <pre>
$ java --version
openjdk 11.0.20.1 2023-08-24
OpenJDK Runtime Environment (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04)
OpenJDK 64-Bit Server VM (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)</pre>


            <p class="is-size-4"><strong>Step 3: Setup folder structure</strong></p>
            <p>
                The current tournament is a 4 player tournament (2v2). We currently only have one player (that we downloaded),
                but we will need 4, so we will make copies. Each player should be in a separate folder, so first we will have to 
                create the folders.

            </p>
            <pre>
$ mkdir Player1 Player2 Player3 Player4</pre>
            <p>
                Now we can copy the player logic into all of the folders:

            </p>
            <pre>
$ cp Igralec.java Player1/
$ cp Igralec.java Player2/
$ cp Igralec.java Player3/
$ cp Igralec.java Player4/</pre>
            
            <p class="is-size-4"><strong>Step 4: Compile all the players</strong></p>
            <p>For the game to be run, all the players have to be compiled first. With this the <code>*.class</code> files will
            appear in the folder.</p>
            <pre>
$ javac Player1/*.java
$ javac Player2/*.java
$ javac Player3/*.java
$ javac Player4/*.java</pre>
            <p class="is-size-4"><strong>Step 5: Run the game</strong></p>

            <p>
                The game is ran by running the <code>Evaluator.jar</code>. This is "the game" jar.
            </p>
            <pre>java -jar Evaluator.jar Player1 Player2 Player3 Player4</pre>
            <p>Note that the <code>Player1</code>, <code>Player2</code>, <code>Player3</code> and <code>Player4</code>
            are names of folders. So in the future when you make new bots you may name them watever you want (the name
            of the folder)</p>
            
            <p>Final directory structure:
            <pre>
dir
|--Evaluator.jar
|--Igralec.java
|--Player1
|     |--Igralec.class
|     |--Igralec.java
|
|--Player2
|     |--Igralec.class
|     |--Igralec.java
|
|--Player3
|     |--Igralec.class
|     |--Igralec.java
|
|--Player4
        |--Igralec.class
        |--Igralec.java
        </pre>
        </div>
    </div>

    <div class="box mt-5">

        <h2 class="title is-2">
            <span class="file-icon is-inline">
                <i class="fas fa-robot"></i>
            </span>
            Instructions for creating a player
        </h2>
        <div class="content">
            A player must be a standard java program, that uses the standard input and standard output to communicate
            with
            the
            game.<br />
            The player's main method must be in the file named Igralec.java - without the use of packages, jars, etc.
            <br />
            A player <strong>MUST NOT</strong>:

            <ul>
                <li>use the network</li>
                <li>access (not even read) the filesystem outside of its directory</li>
                <li>run system commands</li>
                <li>try to win the game by any other means then the commands outlined below</li>
                <li>be a copy of another player :)</li>
                <li></li>
                <li></li>
                <li></li>
                <li>The above lines will be filled if the need arises and will be enforced retroactively</li>
            </ul>


            Commands that a player sends to the game are in the form:
            <pre>&lt;command&gt; &lt;parameters&gt;</pre>
        </div>

        <br>
        <h3 class="title is-4">All available commands: </h3>


        <div class="table-container">
            <table id="ukazi" class="table is-striped">
                <tr>
                    <th>command</th>
                    <th>parameters</th>
                    <th>description</th>
                    <th>sender</th>
                </tr>
                <tr>
                    <td><code>U</code></td>
                    <td>&lt;int&gt;,&lt;int&gt;,&lt;string&gt;</td>
                    <td class='opis'>Universe - size (x in y) playing field (allways 100,100), and your color</td>
                    <td>game</td>
                </tr>
                <tr>
                    <td><code>P</code></td>
                    <td>&lt;int&gt;,&lt;int&gt;,&lt;int&gt;,&lt;float&gt;,&lt;int&gt;,&lt;string&gt;</td>
                    <td class='opis'>
                        Planet: <br>
                        - name (number),<br>
                        - position x,<br>
                        - position y,<br>
                        - planet size,<br>
                        - fleet size,<br>
                        - planet color (red, blue or null)</td>
                    <td>game</td>
                </tr>
                <tr>
                    <td><code>F</code></td>
                    <td>&lt;int&gt;,&lt;int&gt;,&lt;int&gt;,&lt;int&gt;,&lt;int&gt;,&lt;int&gt;</td>
                    <td class='opis'>
                        Fleet: <br>
                        - flee name (number),<br>
                        - fleet size<br>
                        - origin planet<br>
                        - destination planet<br>
                        - current turn<br>
                        - number of needed turns
                    </td>
                    <td>game</td>
                </tr>
                <tr>
                    <td><code>S</code></td>
                    <td>-</td>
                    <td class='opis'>Start - when a player receives this command from the game, it must answer with a
                        series
                        of
                        <code>A</code>, followed by an <code>E</code>
                    </td>
                    <td>game</td>
                </tr>
                <tr>
                    <td><code>A</code></td>
                    <td>&lt;int&gt;,&lt;int&gt;</td>
                    <td class='opis'>Attack: <br> - origin planet<br> - destination planet</td>
                    <td>player</td>
                </tr>
                <tr>
                    <td><code>E</code></td>
                    <td>-</td>
                    <td class='opis'>Player sends at the end of an attack</td>
                    <td>player</td>
                </tr>
                <tr>
                    <td><code>L</code></td>
                    <td>&lt;String&gt;</td>
                    <td class='opis'>Player can send this command to forfeit the game, the parameters are displayed as
                        the
                        reason for forfeiting</td>
                    <td>game, player</td>
                </tr>
            </table>
        </div>

        <h3 class="title is-4">Example of a played game:</h3>
        <p>
        <table class="table is-striped is-fullwidth">
            <tr>
                <th>game</th>
                <th>player</th>
                <th>explanation</th>
            </tr>
            <tr>
                <td>U 100 100 red</td>
                <td></td>
                <td>The game sends the size of the playing field</td>
            </tr>
            <tr>
                <td>P 1 10 20 0.6 60 red</td>
                <td></td>
                <td>The game sends the data for the first planet</td>
            </tr>
            <tr>
                <td>P 2 90 80 0.6 60 blue</td>
                <td></td>
                <td>The game sends the data for the second planet</td>
            </tr>
            <tr>
                <td>S</td>
                <td></td>
                <td>The game signals the player so it can start with its attacks</td>
            </tr>
            <tr>
                <td></td>
                <td>A 1 2</td>
                <td>Player attacks planet 2 from planet 1</td>
            </tr>
            <tr>
                <td></td>
                <td>E</td>
                <td>Player ends with the attacks</td>
            </tr>
            <tr>
                <td>P 1 10 20 0.6 36 red</td>
                <td></td>
                <td>The game sends the data for the first planet</td>
            </tr>
            <tr>
                <td>P 2 90 80 0.6 66 blue</td>
                <td></td>
                <td>The game sends the data for the second planet</td>
            </tr>
            <tr>
                <td>F 1 30 1 2 1 8</td>
                <td></td>
                <td>The game sends data about the fleet</td>
            </tr>
            <tr>
                <td>S</td>
                <td></td>
                <td>The game signals the player so it can start with its attacks</td>
            </tr>
            <tr>
                <td>...</td>
                <td>...</td>
                <td></td>
            </tr>
        </table>
    </div>

    <div class="box mt-5 mb-3">
        <h1 class="title is-2">
            <span class="file-icon is-inline">
                <i class="fas fa-solid fa-info"></i>
            </span>
            Support
        </h1>
        <a href="mailto:domen.vake@famnit.upr.si">Domen Vake</a><br />
        <a href="mailto:aleksandar.tosic@upr.si">Aleksandar Tošić</a><br />
    </div>
</div>

<progress class="progress is-small is-primary" max="100" *ngIf="!pageIsReady"></progress>